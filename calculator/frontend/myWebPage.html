<!DOCTYPE html>
<html lang="en">

<head>

  <link rel="stylesheet" href="css/main_calculator_page.css">
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="script.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <title>Quotes and budgets for everyone</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">



</head>

<body>


  <div class="default-container form-group" id="calculatorWrapper">
    <h2 class="calcualator-header">Quotes and budgets for everyone</h2>
    <form id="budget">
      <div class="field">
        <label for="hourlyPay">Please specify your hourly pay!</label>
        <input type="number" id="hourlyPay" name="hourlyPay" class="form-control" /><br><br>
        <p id="hourlyPayCheck"></p>
      </div>
      <div class="field">
        <label for="timePeriod">For what time of period? </label>
        <select id="selectedTimePeriod" onchange="updateNumbers()" class="form-select"
          aria-label="Default select example">
          <option selected>Select a period of time</option>
          <option value="1">Daily</option>
          <option value="2">Weekly</option>
          <option value="3">Monthly</option>
          <option value="4">Annually</option>
        </select>
        <p id="timePeriodCheck"></p>
      </div>

      <div class="field col">
        <div class="slider-range-wrapper">
          <span id="workedHours"></span>


          <input class="slider-range-widget" type="range" value="37" min="2" max="1000"
            oninput="this.nextElementSibling.value = this.value">
          <output id="workedHoursOutput">37</output>
        </div>
      </div>
      <div class="btn-wrapper" id="submitBtn">
        <button class="btn btn-primary" id="submitBtn" type="button"
          onclick="validatorFields();calculateFinalBudgetFigure()">Submit</button>
      </div>

    </form>
  </div>
  <div class="container result" id>
    Answer
    <label id="calculatedBudget">0</p>
  </div>



  <script>
    $('#submitBtn').click(handleBudget);

    function handleBudget() {
      var hourlyPay = $('#hourlyPay').val();
      var timePeriod = $('#selectedTimePeriod option:selected').text();
      var workedHours = $('#workedHoursOutput').val();

      var url = "/api/getBudgetComponents?" + "hourlyPay=" + hourlyPay + "&period=" + timePeriod + "&workedHours=" + workedHours;
      console.log(url);

      $.ajax(
        {
          url: url,
          success: function (calculatedBudget) {
            $("#calculatedBudget").html(calculatedBudget);
          }
        });
      return false;
    }


  </script>

</body>

</html>